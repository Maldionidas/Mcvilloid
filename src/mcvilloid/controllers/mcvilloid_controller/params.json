{
  "enable_I": false,

  "gains": {
    "pitch": { "kp": 0.90, "kd": 0.34 },
    "roll":  { "kp": 0.70, "kd": 0.24 }
  },
  "ki": { "pitch": 0.005, "roll": 0.002 },

  "i_limit_deg": 8.0,

  "mix": {
    "pitch_to_ankle": -0.22,
    "roll_to_ankle":  0.70,
    "roll_to_hip":    0.55
  },

  "deadband_deg": 0.4,
  "soft_start_s": 3.0,

  "limits": {
    "ankle_pos": 0.22,
    "ankle_vel": 1.0,
    "hip_pos":   2.50,
    "hip_vel":   2.4,
    "hip_roll_pos": 0.40,
    "knee_pos": 1.20
  },

  "signs": { "invert_pitch": false, "invert_roll": true },

  "fc_d_pitch_hz": 12.0,
  "fc_d_roll_hz": 10.0,

  "rate_ff": { "pitch": 0.00, "roll": 0.02 },

  "joint_signs": {
    "ankle_pitch_l": -1.0,
    "hip_pitch_l":   -1.0,
    "ankle_roll_l":  -1.0,
    "hip_roll_l":    -1.0,
    "ankle_pitch_r": -1.0,
    "hip_pitch_r":   -1.0,
    "ankle_roll_r":  -1.0,
    "hip_roll_r":    -1.0
  },

  "imu_name": "imu_sensor",

  "motors": [
    "j00_hip_pitch_l",
    "j01_hip_roll_l",
    "j02_hip_yaw_l",
    "j03_knee_pitch_l",
    "j04_ankle_pitch_l",
    "j05_ankle_roll_l",
    "j06_hip_pitch_r",
    "j07_hip_roll_r",
    "j08_hip_yaw_r",
    "j09_knee_pitch_r",
    "j10_ankle_pitch_r",
    "j11_ankle_roll_r"
  ],

  "neutral_pose": {
    "j00_hip_pitch_l": -0.16,
    "j01_hip_roll_l":  0.0,
    "j02_hip_yaw_l":   0.0,
    "j03_knee_pitch_l": 0.15,
    "j04_ankle_pitch_l": -0.04,
    "j05_ankle_roll_l":  0.0,

    "j06_hip_pitch_r":  -0.16,
    "j07_hip_roll_r":   0.0,
    "j08_hip_yaw_r":    0.0,
    "j09_knee_pitch_r": 0.15,
    "j10_ankle_pitch_r": -0.04,
    "j11_ankle_roll_r":  0.0
  },

  "gait": {
    "enabled_on_start": false,
    "auto_on": false,
    "freq_hz": 0.82,
    "soft_start_s": 0.9,
    "phase_offset": { "L": 0.0, "R": 3.1415926 },
    "direction": "forward",

    "step_amp": {
      "hip_pitch":   0.42,
      "knee_pitch":  0.40,
      "ankle_pitch": 0.040
    },
    "lateral_amp": {
      "hip_roll":   0.018,
      "ankle_roll": 0.006
    },
    "bias": {
      "torso_pitch": 0.10, 
      "ankle_pitch": 0.00,
      "torso_hip_pitch": -0.065,  
      "ankle_dorsi":     0.0
    },
    "clearance_m": 0.046,      
    "dorsi_mid_rad": 0.038,   
    "dorsi_window": [0.38, 0.58],
    "lateral_shift_rad": 0.080,
    "stride_base": 0.98,
    "stride_max":  1.25,
    "slew_rad_s": {            
        "knee":  4.8,
        "ankle": 2.6,
        "hip":   3.4
    },
    "imu_pitch_deg_gate": 180,
    "imu_gate_scale": 1.0,
    "limits": {
      "hip_pitch_cmd":   { "min": -0.60, "max": 0.60 },
      "knee_pitch_cmd":  { "min": -0.55, "max": 0.55 },
      "ankle_pitch_cmd": { "min": -0.07, "max": 0.07 },
      "ankle_roll_cmd":  { "min": -0.10, "max": 0.10 }  
    },
    "phase": {
      "duty_factor": 0.58,   
      "swing_up_ratio": 0.42, 
      "toe_off_ratio": 0.22,  
      "heel_strike_hold": 0.12   
    },

  "guards": {
    "pitch_ok_rad": 0.06,     
    "pitch_stop_rad": 0.14,   
    "roll_stop_rad":  0.35
  },

  "scheduling": {
    "ankle_k_scale_early": 0.7,  
    "hip_k_scale_swing":   1.10, 
    "knee_k_scale_swing":  1.0
  },

  "ramp": {
    "first_cycles_limit_amp": true,
    "cycles": 3,               
    "scale": 0.80              
  }
},

  "logging": {
    "enabled": true,
    "level": "info",
    "rate_hz": 8,
    "channels": {
      "boot": true,
      "imu": true,
      "balance": true,
      "gait": true,
      "motors": false
    }
  },

  "debug": { "log_every": 7, "print_imu": true, "print_cmd": true },

  "scheduling": {
    "abs_pitch_rad_thresh": 0.08, 
    "pitch_to_hip_hi": 0.85,      
    "kd_pitch_hi": 1.8,
    "amp_scale_on_tilt": 0.65     
  },

  "fall_arrest": {
    "pitch_neg_trig": -0.06,   
    "boost_duration_s": 0.20,
    "hip_boost_add": 0.06      
  }
}
